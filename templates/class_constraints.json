{{'''SELECT ?class ?superClass ?property ?range ?extent ?mincardinality ?maxcardinality ?cardinality (min(?o) as ?min) (max(?o) as ?max) WHERE {
  {
    select ?class ?extent ?superClass ?property ?range ?mincardinality ?maxcardinality ?cardinality where {
      ?class rdfs:subClassOf* ?superClass.
      {
        ?superClass owl:onProperty ?property.
        ?superClass owl:someValuesFrom|owl:allValuesFrom ?range.
        ?superClass ?extent ?range.
        optional {
          ?superClass owl:minCardinality ?mincardinality.
        }
        optional {
          ?superClass owl:maxCardinality ?maxcardinality.
        }
        optional {
          ?superClass owl:exactCardinality ?cardinality.
        }
      } union {
        ?property rdfs:domain ?superClass;
                  rdfs:range ?range.
      }
    }
  }
  optional {
    ?x rdf:type/rdfs:subClassOf* ?class;
       ?property ?o.
    filter (datatype(?o) != ?range)
  }
} group by ?class ?superClass ?property ?range ?extent ?mincardinality ?maxcardinality ?cardinality
LIMIT 100'''|query(values={"class":this.identifier}) | iter_labelize('property','propertyLabel') | iter_labelize('range','rangeLabel')| tojson }}
